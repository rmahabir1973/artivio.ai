
> rest-express@1.0.0 dev
[JWT CONFIG] JWT_SECRET initialized: Using env JWT_SECRET
üìã Initializing Passport strategies...
üìã Initializing Passport middleware...
‚úì Passport middleware initialized
‚úì Google OAuth initialized successfully
‚úì Passport strategies initialized successfully
‚úì Authentication initialized successfully
‚úì Database connection acquired from pool
‚úì API keys initialized successfully
4:59:43 AM [express] serving on port 5000
üìã Initializing subscription plans...
üå± Seeding/updating pricing data...
  ‚úì Updated plan: 7 Day Free Trial
‚úì Database connection acquired from pool
  ‚úì Updated plan: Starter

A PostCSS plugin did not pass the `from` option to `postcss.parse`. This may cause imported assets to be incorrectly transformed. If you've recently added a PostCSS plugin that raised this warning, please contact the package author to fix the issue.
  ‚úì Updated plan: Starter (Annual)
‚úì Database connection removed from pool
  ‚úó Error initializing plan Professional: error: terminating connection due to administrator command
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonPreparedQuery.execute (/home/runner/workspace/node_modules/src/neon-serverless/session.ts:102:18)
    at async initializePlans (/home/runner/workspace/server/seedPlans.ts:244:30) {
  length: 116,
  severity: 'FATAL',
  code: '57P01',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'postgres.c',
  line: '3289',
  routine: 'ProcessInterrupts'
}
‚úì Database connection removed from pool
‚ùå Error seeding pricing: error: terminating connection due to administrator command
    at file:///home/runner/workspace/node_modules/@neondatabase/serverless/index.mjs:1345:74
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async seedPricing (/home/runner/workspace/server/seedPricing.ts:217:7) {
  length: 116,
  severity: 'FATAL',
  code: '57P01',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'postgres.c',
  line: '3289',
  routine: 'ProcessInterrupts'
}
‚ö†Ô∏è  WARNING: Pricing seed failed, using existing pricing data
   Error: terminating connection due to administrator command
   ‚Üí Pricing may be outdated. Check database connection and restart server.
‚úì Database connection acquired from pool
[AUTH] Bootstrap request {
  hasRefreshToken: false,
  hasTokenId: false,
  tokenIdPreview: undefined
}
[AUTH] Bootstrap failed - missing cookies
4:59:49 AM [express] GET /api/auth/bootstrap 401 in 4ms :: {"message":"No refresh token found","code‚Ä¶
[AUTH] Refresh token request {
  hasRefreshToken: false,
  hasTokenId: false,
  tokenIdPreview: undefined
}
[AUTH] Refresh failed - missing cookies
4:59:50 AM [express] POST /api/auth/refresh 401 in 1ms :: {"message":"No refresh token found. Please‚Ä¶
[AUTH] Refresh token request {
  hasRefreshToken: false,
  hasTokenId: false,
  tokenIdPreview: undefined
}
[AUTH] Refresh failed - missing cookies
4:59:50 AM [express] POST /api/auth/refresh 401 in 1ms :: {"message":"No refresh token found. Please‚Ä¶
‚úì Database connection acquired from pool
  ‚úì Updated plan: Professional (Annual)
  ‚úì Updated plan: Business
  ‚úì Updated plan: Business (Annual)
  ‚úì Updated plan: Agency
  ‚úì Updated plan: Agency (Annual)
‚úì Subscription plans initialized successfully
4:59:52 AM [express] GET /api/homepage 304 in 2212ms :: {"id":"homepage","heroTitle":"Create any vid‚Ä¶
[AUTH] Refresh token request {
  hasRefreshToken: false,
  hasTokenId: false,
  tokenIdPreview: undefined
}
[AUTH] Refresh failed - missing cookies
4:59:52 AM [express] POST /api/auth/refresh 401 in 1ms :: {"message":"No refresh token found. Please‚Ä¶
[API] /api/plans - Retrieved plans: 11 plans
[API] /api/plans - First plan: {
  "id": "7ed37028-d165-445f-9312-ac98bdaea2d0",
  "name": "free",
  "displayName": "7 Day Free Trial",
  "description": "Experience the full power of AI creation with no commitment. Perfect for exploring all our features risk-free.",
  "stripeProductId": null,
  "stripePriceId": null,
  "price": 0,
  "monthlyPrice": 0,
  "annualPrice": 0,
  "billingPeriod": "trial",
  "trialDays": 7,
  "features": [
    "1,000 credits to start creating",
    "Access to all AI models and features",
    "Generate videos, images, and music",
    "7-day trial period",
    "No credit card required"
  ],
  "creditsPerMonth": 1000,
  "creditRolloverLimit": 0,
  "savingsPercentage": 0,
  "isActive": true,
  "sortOrder": 0,
  "createdAt": "2025-11-14T21:20:36.317Z",
  "updatedAt": "2025-11-25T04:59:43.840Z"
}
4:59:52 AM [express] GET /api/plans 200 in 96ms :: [{"id":"7ed37028-d165-445f-9312-ac98bdaea2d0","na‚Ä¶